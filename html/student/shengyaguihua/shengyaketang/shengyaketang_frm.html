<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>云API</title>
    <link rel="stylesheet" type="text/css" href="../../../css/api.css"/>
    <link rel="stylesheet" type="text/css" href="../../../css/style.css"/>
    <link rel="stylesheet" type="text/css" href="../../../css/aui.css"/>
    <style>

    .top_img{
      width: 100%;
      height: 150px;
    }

    .left_line {
        background-color: #6666ff;
        height: 18px;
        width: 4px;
        margin-top: auto;
        margin-bottom: auto;
    }

    .section_title {
        color: #333333;
        font-size: 18px;
        font-family: "PingFang-SC";
        margin-left: 4px;
        margin-top: auto;
        margin-bottom: auto;
    }
    </style>
</head>
<body>
    <div id="sykt_div" class="flex-wrap flex-vertical"  >
        <script id="evaluationtmpl" type="text/x-dot-template">
        <img class="top_img" src="../../../image/shengya.png"  >

        <div style="padding:10px;height:auto;background-color:white;display: inline-flex;">
            <div class="left_line"></div>
            <span class="section_title">{{=it.title1}}</span>
        </div>
        <ul class="aui-list aui-media-list">
        {{for (var i = 0; i < it.info1.length; i++) {}}

          <li class="aui-list-item" tapmode onclick="item1Click({{=i}})">
              <div class="aui-media-list-item-inner">
                  <div class="aui-list-item-media" style="border-right:none">
                      <img style="border-radius:4px;" src="http://www.yxke12.com/Public/Home/images/student/{{=it.info1[i].image}}">
                  </div>
                  <div class="aui-list-item-inner">
                      <div class="aui-list-item-text">
                          <div class="aui-list-item-title">{{=it.info1[i].videoname}}</div>
                      </div>
                      {{if (it.info1[i].sample == null) {}}
                            <div class="aui-list-item-text" style="display:none;">
                      {{}else {}}
                            <div class="aui-list-item-text" style="margin-top:8px;max-width: 10rem;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">
                      {{}}}
                          <!-- {{=it.info1[i].sample}}-->
                      </div>
                  </div>
              </div>
          </li>
        {{}}}
        </ul>
<div style="background-color:#f5f5f5;width:100%;height:10px;"></div>
        <div style="padding-left:10px;padding-top:10px;padding-bottom:10px;height:auto;background-color:white;display: inline-flex;">
            <div class="left_line"></div>
            <span class="section_title">{{=it.title2}}</span>
        </div>
        <ul class="aui-list aui-media-list">
        {{for (var i = 0; i < it.info2.length; i++) {}}

          <li class="aui-list-item" tapmode onclick="item2Click({{=i}})">
              <div class="aui-media-list-item-inner">
                  <div class="aui-list-item-media" style="border-right:none">
                      <img style="border-radius:4px;" src="http://www.yxke12.com/Public/Home/images/student/{{=it.info2[i].image}}">
                  </div>
                  <div class="aui-list-item-inner">
                      <div class="aui-list-item-text">
                          <div class="aui-list-item-title">{{=it.info2[i].videoname}}</div>
                      </div>
                  </div>
              </div>
          </li>
        {{}}}
        </ul>
        {{if (it.info3.length != 0) {}}
          <div style="padding-left:10px;padding-top:10px;padding-bottom:10px;height:auto;background-color:white;display: inline-flex;">
              <div class="left_line"></div>
              <span class="section_title">{{=it.title3}}</span>
          </div>
        {{}}}
        <div style="background-color:#f5f5f5;width:100%;height:10px;"></div>
        <ul class="aui-list aui-media-list">
        {{for (var i = 0; i < it.info3.length; i++) {}}
          <li class="aui-list-item" tapmode onclick="item3Click({{=i}})">
              <div class="aui-media-list-item-inner">
                  <div class="aui-list-item-media" style="border-right:none">
                      <img style="border-radius:4px;" src="http://www.yxke12.com/Public/Home/images/student/{{=it.info3[i].image}}">
                  </div>
                  <div class="aui-list-item-inner">
                      <div class="aui-list-item-text">
                          <div class="aui-list-item-title">{{=it.info3[i].videoname}}</div>

                      </div>
                      {{if (it.info3[i].sample == null) {}}
                            <div class="aui-list-item-text" style="display:none;">
                      {{}else {}}
                            <div class="aui-list-item-text" style="margin-top:8px;max-width: 10rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">
                      {{}}}
                          <!--{{=it.info3[i].sample}}-->
                      </div>
                  </div>
              </div>
          </li>
        {{}}}
        </ul>
        </script>
        <!-- {{if (it.info2[i].sample == null) {}}

              <div class="aui-list-item-text" style="display:none;">

        {{}else {}}

              <div class="aui-list-item-text" style="margin-top:8px;max-width: 10rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">

        {{}}}

            {{=it.info2[i].sample}}

        </div> -->

    </div>
</body>
<script type="text/javascript" src="../../../script/api.js" ></script>
<script type="text/javascript" src="../../../script/doT.js" ></script>
<script type="text/javascript" src="../../../script/jquery-1.11.1.min.js" ></script>
<script type="text/javascript">
var data = {};
    apiready = function(){
      getListData();
      api.parseTapmode();
    }

    function getListData() {
      api.showProgress({
          style: 'default',
          animationType: 'fade',
          title: '努力加载中...',
          text: '先喝杯茶...',
          modal: true
      });

      api.ajax({
          url: 'http://www.yxke12.com/index.php/App/Shengyaketang/lists.html',
          method: 'post',
          data: {
              values: {
              }
          }
      },function(ret, err){
          api.hideProgress();
          if (ret) {
            if (ret.status ==100) {
              data = ret.data;
              var evalText = doT.template(document.getElementById('evaluationtmpl').innerHTML);
              document.getElementById('sykt_div').innerHTML = evalText(data);
              api.parseTapmode();
            }else {
              api.toast({
                  msg: ret.data.error,
                  duration: 2000,
                  location: 'bottom'
              });
            }
          } else {
              api.toast({
                  msg: JSON.stringify( err ),
                  duration: 2000,
                  location: 'bottom'
              });
          }
      });
    }

    function aaaa() {
      $.ajax({
          type: "post",
          url: "http://www.yxke12.com/index.php/App/Shengyaketang/lists.html",
          data: {},
          dataType: "json",
          success: function(ret) {
            data = ret.data;
            var evalText = doT.template(document.getElementById('evaluationtmpl').innerHTML);
            document.getElementById('sykt_div').innerHTML = evalText(data);
          }
      });
  }

    window.onload=function(){
// aaaa();
    }

    function item1Click(index) {
        // data.info1[index];
        // console.log(JSON.stringify(data.info1));
        localStorage.data=JSON.stringify(data.info1)
        api.openWin({
            name: 'kecheng_win',
            url: './kecheng_win.html',
            pageParam: {
                // data: data.info1,
                index: index
            }
        });
    }

    function item2Click(index) {
      localStorage.data=JSON.stringify(data.info2)
      api.openWin({
          name: 'kecheng_win',
          url: './kecheng_win.html',
          pageParam: {
              // data: data.info2,
              index: index
          }
      });
    }

    function item3Click(index) {
      localStorage.data=JSON.stringify(data.info3)
      api.openWin({
          name: 'kecheng_win',
          url: './kecheng_win.html',
          pageParam: {
              // data: data.info3,
              index: index
          }
      });
    }
</script>
</html>
