<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>底部导航</title>
    <link rel="stylesheet" type="text/css" href="../../css/api.css" />
    <link rel="stylesheet" type="text/css" href="../../css/style.css" />
    <link rel="stylesheet" type="text/css" href="../../css/aui.css" />

    <style>
        .auto {
            height: auto;
        }

        p {
            text-indent: 2em;
            font-size: 16px;
            padding-left: 10px;
            padding-right: 10px;
            font-family: "PingFang-SC-Medium";
            color: #666666;
        }

        .left_line {
            background-color: #6666ff;
            height: 18px;
            width: 4px;
            margin-top: auto;
            margin-bottom: auto;
        }

        .section_title {
            color: #6666ff;
            font-size: 18px;
            font-family: "PingFang-SC-Medium";
            margin-left: 4px;
            margin-top: auto;
            margin-bottom: auto;
        }

        .four_panel {
            margin: 10px;
            margin-bottom: 0px;
        }

        .four_tile {
            font-family: "PingFang-SC-Medium";
            font-size: 18px;
        }

        .content_font {
            font-family: "PingFang-SC-Medium";
            font-size: 16px;
            color: #666666;
            margin-top: 10px;
        }

        .img_bg {
            height: 40px;
            width: 90%;
            background-image: url("../../image/four_bg.png");
            background-repeat: no-repeat;
            background-size: 100% 100%;
            margin: 10px auto;
        }

        .img_tile {
            color: white;
            font-size: 16px;
            font-family: "PingFang-SC-Medium";
        }

        .left {
            float: left;
            display: inline-block;
            line-height: 40px;
            margin-left: 10px;
        }

        .right {
            float: right;
            display: inline-block;
            line-height: 40px;
            margin-right: 10px;
        }

        .font_title {
            font-weight: bold;
        }

        .xingge_analyze {
            height: auto;
            width: 90%;
            border-radius: 10px;
            border: 1px dashed #6666ff;
            margin: 10px auto;
            padding-bottom: 12px;
        }

        .margin-12 {
            margin: 12px;
        }

        .last-panel {
            background-color: #f7f7f7;
            border-radius: 10px;
            padding: 8px;
            margin: 10px;
        }

        .operation-panel {
            height: 45px;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .z-btn {
            background: #6666ff;
            height: 33px;
            width: 150px;
            margin-bottom: 0px;
            line-height: 33px;
            width: 45%;
            border-radius: 16.5px;
            /*border: 1px solid #6666ff !important;*/
            color: #ffffff;
            font-size: 14px;
            font-family: "PingFang-SC-Medium";
        }

        .white-btn {
            background: #ffffff;
            height: 33px;
            width: 150px;
            margin-bottom: 0px;
            line-height: 33px;
            width: 45%;
            border-radius: 16.5px;
            border: 1px solid #a1a1a1 !important;
            color: #a1a1a1;
            font-size: 14px;
            font-family: "PingFang-SC-Medium";
        }

        .margin-left-10 {
            margin-left: 10px;
        }

      /*测试结果*/
      .top_result{
        width: 90%;
        height: 75px;
        background-color: #6666ff;
        border-radius: 3px;
        margin: 10px auto;
        padding: 10px 0px;
      }
      .result_miaoshu{
        color: white;
        font-family: "PingFang-SC-Medium";
        text-indent: 0em;
      }
      .result_text{
          font-size: 18px;
          color: white;
          font-family: "PingFang-SC-Medium";
          text-indent: 0em;
      }
      .pic{
          margin: 0 auto;
          width: 80%;
          height: 400px;
          /*border: 1px solid #eeeeee;*/
      }
      .pic p {
          text-align: center;
          padding: 20px 0;

      }
       .pic .bei_zhu{
          line-height: 18px;
      }
       .pic .li_tu{
          border: 1px solid #ABD8F7;
          /*width: 580px;*/
          height: 250px;
          margin: 0 auto;
          font-size: 14px;
      }
       .pic .li_tu .box{
          width: 50%;
          height: 50px;
          float: left;
          border-right: 1px solid #ABD8F7;
          border-bottom: 1px solid #ABD8F7;
          -webkit-box-sizing: border-box;
          -moz-box-sizing: border-box;
          box-sizing: border-box;
          position: relative;

      }
      .pic .li_tu .box:nth-child(2n){
          border-right: none;
      }

      .pic .li_tu .rt span{
          display: inline-block;
          /*line-height: 50px;*/
          padding: 0px 10px;
          position: absolute;
          right: -32px;
          top: 0px;
      }

      .pic .li_tu .lt span{
          display: inline-block;
          /*line-height: 50px;*/
          padding: 0px 10px;
          position: absolute;
          left: -32px;
          top: 0px;
      }
      .pic .li_tu .box .left{
          width: 100%;
          height: 35px;
          margin-left: 3px;
          margin-top: 7px;
          /*background-color: red;*/
          /*float: right;*/
      }
      .pic .li_tu .box .left .bian {
          width: 30%;
          height: 80%;
          background-color: #FD8E41;
          margin-top: 4px;
          float: right;
      }
      .pic .li_tu .box .right .bian {
          width: 30%;
          height: 80%;
          background-color: #FD8E41;
          margin-top: 4px;
          float: left;
      }
      .pic .li_tu .box .right{
          width: 100%;
          height: 35px;
          margin-right: 3px;
          margin-top: 7px;
          /*background-color: yellow;*/
      }

      .pic .li_tu .f_duan{
          width: 100%;
          height: 50px;
          /*background-color: pink;*/


      }
      .pic .li_tu .f_duan div{
          /*line-height: 50px;*/
          text-align: center;

          float: left;

      }

        .pic .li_tu .f_duan .rt {
           width: 45px;
           border-right: none;
        }

        .pic .li_tu .f_duan .mingxian {
            width: 7%;
            height: 50px;
            font-size: 12px;

        }
       .right-line {
            border-right: 1px solid #ABD8F7!important;
        }

        .pic .li_tu .f_duan .bijiaomingxian {
            width: 10%;
            height: 50px;
            border-right: 1px solid #ABD8F7;
            font-size: 12px;
        }
        .pic .li_tu .f_duan .yiban {
            width: 17%;
            height: 50px;
            border-right: 1px solid #ABD8F7;
            font-size: 12px;
        }
        .pic .li_tu .f_duan .qingwei {
            width: 28%;
            height: 50px;
            border-right: 1px solid #ABD8F7;
            font-size: 12px;
        }

    </style>
</head>

<body style="background-color:white;">
    <div class="flex-wrap flex-vertical" id="xingquceshi">
      <script id="evaluationtmpl" type="text/x-dot-template">
        <div style="margin-left:10px;padding-top:10px;"><span style="color:#6666ff;font-size:16px;font-weight:bold;font-family: 'PingFang-SC';">{{=it.studentname}}</span><span style="color:#666666;font-size:16px;font-family: " PingFang-SC-Medium ";">同学：</span></div>
        <p>您好！</p>
        <p>非常感谢你使用我们的系统进行职业兴趣测试，本测试能帮助你发现和确定自己的职业兴趣, 最终为你在高中阶段的学科选择、高考志愿填报以及未来职业生涯的规划提供参考。</p>
        <p>人们通常倾向选择与自我兴趣类型匹配的职业环境，如具有现实型兴趣的人希望在现实型的职业环境中工作。但职业选择中，个体并非一定要选择与自己兴趣完全对应的职业环境，这是因为个体本身通常是多种兴趣类型的综合体，单一类型显著突出的情况并不多，因此评价个体的兴趣类型时也时常以其在六大类型中得分居前三位的类型组合而成，组合时根据分数的高低依次排列字母。</p>
        <p>本报告是根据你的实际作答情况，测试出你最感兴趣的职业类型组合，然后对测试结果进行分析，结合国家最新公布的职业数据，为你定制具有科学指导意义的个性化评估报告。</p>

        <div style="margin-left:10px;margin-top:10px;height:auto;display: inline-flex;">
            <div class="left_line"></div>
            <span class="section_title">测试方法</span>
        </div>
        <p>本测验是依据美国著名的职业指导家约翰∙霍兰德的职业兴趣理论而编制的。1959年霍兰德将职业兴趣测试和个体分析有机结合起来，提出了具有广泛社会影响的职业兴趣理论。霍兰德认为职业类型可分为常规型（C）、研究型（I）、艺术型（A）、社会型（S）、企业型（E）和技术型（R）6种。通过测试，把你在各个职业类型的得分进行排序，得出得分居前三位的类型组合类型代号作为你的测试结果。</p>

    <div style="margin-left:10px;margin-top:10px;height:auto;display: inline-flex;">
        <div class="left_line"></div>
        <span class="section_title">测试结果</span>
    </div>
    <div class="top_result">
        <p class="result_miaoshu">根据具体测试得分情况，你的职业兴趣测试结果为：</p>
        <p class="result_text">{{=it.en}}</p>
    </div>
    <div id="result" style="width: 100%;height:470px;margin: 0px 0 20px 0;"></div>


    <div style="margin-left:10px;margin-top:10px;height:auto;display: inline-flex;">
        <div class="left_line"></div>
        <span class="section_title">职业能力分析</span>
    </div>

    <div class="xingge_analyze">
        <div style="border-bottom: 1px dashed #6666ff; padding-bottom:12px;">
            <span class="section_title margin-12">
              {{=it.onetype}} {{=it.onetext}}
            </span>
            <p style="text-indent:0em;">
                <b>职业特征：</b>{{=it.onetezheng}}</br>
                <b>职业倾向：</b>{{=it.oneqingxiang}}</br>
                <b>典型职业：</b>{{=it.onezhiye}}
            </p>
        </div>

        <div style="border-bottom: 1px dashed #6666ff; padding-bottom:12px;">
            <span class="section_title margin-12">
              {{=it.twotype}} {{=it.twotext}}
            </span>
            <p style="text-indent:0em;">
            <b>职业特征：</b>{{=it.twotezheng}}</br>
            <b>职业倾向：</b>{{=it.twoqingxiang}}</br>
            <b>典型职业：</b>{{=it.twozhiye}}
            </p>
        </div>
        <span class="section_title margin-12">
            {{=it.threetype}} {{=it.threetext}}
          </span>
        <p style="text-indent:0em;">
        <b>职业特征：</b>{{=it.threetezheng}}</br>
        <b>职业倾向：</b>{{=it.threeqingxiang}}</br>
        <b>典型职业：</b>{{=it.threezhiye}}
        </p>

    </div>
    <div style="margin-left:10px;margin-top:10px;height:auto;display: inline-flex;">
        <div class="left_line"></div>
        <span class="section_title">适合职业</span>
    </div>
    <p style="text-indent:0em;">
    {{=it.zhiye}}

    </p>
    <div class="last-panel">
        <p>
            我们真心希望，通过我们的测评报告，能帮助你发现平常从未知晓的自己，并帮助你进行自己的职业生涯规划，为你开启一扇智慧的大门。
        </p>
    </div>

    <div class="operation-panel">
        <div id="st_id" style="display:none;" class="aui-btn aui-btn-primary aui-btn-block white-btn " tapmode onclick="sendTeacher()">发送老师</div>
        <div class="aui-btn aui-btn-primary aui-btn-block z-btn margin-left-10" tapmode onclick="continueTest()">继续测试</div>
    </div>
  </script>
    </div>
</body>
<script type="text/javascript" src="../../script/api.js"></script>
<script type="text/javascript" src="../../script/echart.js"></script>
<script type="text/javascript" src="../../script/doT.js"></script>
<script type="text/javascript">
var data;
    apiready = function() {
      data = JSON.parse(localStorage.retdata);
      var evalText = doT.template(document.getElementById('evaluationtmpl').innerHTML);
      document.getElementById('xingquceshi').innerHTML = evalText(data);
      var teacher = data.teacher;
      if (teacher == 1) {
        var st = $api.byId('st_id');
        st.disabled = true;
      }

      var myChart = echarts.init($api.byId('result'));
// alert((data.score1/45*100).toFixed(0))
    option = {
//        color: ['#3398DB'],
        title: {
            textStyle:{ fontSize:15}
        },
        tooltip: {
            trigger: 'axis',
            axisPointer: {            // 坐标轴指示器，坐标轴触发有效
                type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
            },
            formatter: "{a} <br/>{b} : {c}%"
        },
        grid: {
            left: '5%',
            right: '5%',
            bottom: '8%',
            containLabel: true
//            y2: 10
        },
        xAxis: [
            {
                type: 'category',
                data: ["现实型(R)","研究型(I)","艺术性(A)","社会型(S)","企业型(E)","常规型(C)"],

                boundaryGap: [0, 0.01],
                axisTick: {
                    alignWithLabel: true,
                    show:false
                },
                axisLabel : {
                    interval: 0,
                    rotate: 45,
                    textStyle:{ fontSize:14},
                    // formatter:function(val){
                    //     return val.split("").join("\n");
                    // }
                },
//                去掉轴线
                axisLine:{show:false}
            }
        ],
        yAxis: [
            {
                type: 'value',
                name: '百分比',
                min: 0,
                max: 100,
                interval: 20,
                formatter: '{value}%',
                axisTick: {
                    alignWithLabel: true

                },
                axisLabel : {
                    textStyle:{ fontSize:14}
                },
//                去掉轴线
                axisLine:{show:false}

            }
        ],
        series: [
            {
                name:'结果',
                type: 'bar',
                barWidth: '100%',
                show:false,
                data: [data.score1,data.score2,data.score3,data.score4,data.score5,data.score6]
            },

        ],
        label: {
            normal: {
                show: true,
                position: 'top',
                formatter: '{c}'
            }
        },
        itemStyle: {
            normal: {
//                color:['#36f8e3', '#f1d937', '#f6166a']
                color: function (params) {
                   var  colorList = ['#fec126', '#fc8a8c','#f96c5e','#6666ff','#b699ea','#51bbe0'];
//                    if (params.data > 0 && params.data <= 60) {
//                        return colorList[0];
//                    } else if (params.data > 60 && params.data <= 80) {
//                        return colorList[1];
//                    }
//                    else if (params.data > 80) {
//                        return colorList[2];
//                    }
                    return colorList[params.dataIndex]
                }
            }
        }
    };
    myChart.setOption(option);

    };

    function sendTeacher() {
      api.showProgress({
          style: 'default',
          animationType: 'fade',
          title: '努力加载中...',
          text: '先喝杯茶...',
          modal: true
      });

      api.ajax({
          url: 'http://www.yxke12.com/index.php/App/Baogao/result.html',
          method: 'post',
          data: {
              values: {
                  studentid: $api.getStorage('studentid'),
                  num:data.num,
                  type:"huolande",
                  value:data.en
              },
          }
      },function(ret, err){
          api.hideProgress();
          if (ret) {
            if (ret.status == 100) {
              var st = $api.byId('st_id');
              st.disabled = true;
              api.toast({
                  msg: ret.data.infos,
                  duration: 2000,
                  location: 'bottom'
              });
                console.log(JSON.stringify(ret.data));
            }else {
              api.toast({
              msg: JSON.stringify(ret.message),
              duration: 2000,
              location: 'bottom'
          });
            }
              console.log(JSON.stringify( ret ));
          } else {
            api.toast({
            msg: JSON.stringify(err.msg),
            duration: 2000,
            location: 'bottom'
        });
          }
      });
    }

    function continueTest() {
        api.openWin({
            name: 'occupationXG_win',
            url: './occupationXG_win.html',
            pageParam: {
                name: 'test'
            }
        });

    }
</script>

</html>
